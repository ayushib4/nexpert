{"ast":null,"code":"import { required } from \"./accessors.js\";\nimport { Node, computeHeight } from \"./hierarchy/index.js\";\nvar keyPrefix = \"$\",\n  // Protect against keys like “__proto__”.\n  preroot = {\n    depth: -1\n  },\n  ambiguous = {};\nfunction defaultId(d) {\n  return d.id;\n}\nfunction defaultParentId(d) {\n  return d.parentId;\n}\nexport default function () {\n  var id = defaultId,\n    parentId = defaultParentId;\n  function stratify(data) {\n    var d,\n      i,\n      n = data.length,\n      root,\n      parent,\n      node,\n      nodes = new Array(n),\n      nodeId,\n      nodeKey,\n      nodeByKey = {};\n    for (i = 0; i < n; ++i) {\n      d = data[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = keyPrefix + (node.id = nodeId);\n        nodeByKey[nodeKey] = nodeKey in nodeByKey ? ambiguous : node;\n      }\n    }\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], nodeId = parentId(data[i], i, data);\n      if (nodeId == null || !(nodeId += \"\")) {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      } else {\n        parent = nodeByKey[keyPrefix + nodeId];\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);else parent.children = [node];\n        node.parent = parent;\n      }\n    }\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function (node) {\n      node.depth = node.parent.depth + 1;\n      --n;\n    }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n    return root;\n  }\n  stratify.id = function (x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n  stratify.parentId = function (x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n  return stratify;\n}","map":{"version":3,"names":["required","Node","computeHeight","keyPrefix","preroot","depth","ambiguous","defaultId","d","id","defaultParentId","parentId","stratify","data","i","n","length","root","parent","node","nodes","Array","nodeId","nodeKey","nodeByKey","Error","children","push","eachBefore","x","arguments"],"sources":["/Users/ayushi/Desktop/repos/nexpert-frontend/node_modules/react-d3-tree/node_modules/d3-hierarchy/src/stratify.js"],"sourcesContent":["import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar keyPrefix = \"$\", // Protect against keys like “__proto__”.\n    preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var d,\n        i,\n        n = data.length,\n        root,\n        parent,\n        node,\n        nodes = new Array(n),\n        nodeId,\n        nodeKey,\n        nodeByKey = {};\n\n    for (i = 0; i < n; ++i) {\n      d = data[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = keyPrefix + (node.id = nodeId);\n        nodeByKey[nodeKey] = nodeKey in nodeByKey ? ambiguous : node;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], nodeId = parentId(data[i], i, data);\n      if (nodeId == null || !(nodeId += \"\")) {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      } else {\n        parent = nodeByKey[keyPrefix + nodeId];\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}